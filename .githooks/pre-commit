#!/bin/bash
# Pre-commit hook: Run E2E tests before allowing commits
# Prevents broken code from being committed

echo "ðŸ§ª Running HERALD E2E tests before commit..."
echo ""

python3 tests/test_herald_e2e.py
TEST_RESULT=$?

if [ $TEST_RESULT -ne 0 ]; then
    echo ""
    echo "ðŸ”´ COMMIT BLOCKED: E2E tests failed"
    echo "Fix the issues above and try again"
    exit 1
fi

echo ""
echo "ðŸŸ¢ E2E tests passed - commit allowed"
exit 0
